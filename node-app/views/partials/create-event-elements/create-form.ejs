
<div id="form-container"
  class="bg-gradient-to-br from-green-600 to-green-800 p-6 rounded-xl shadow-2xl backdrop-blur-md relative overflow-hidden text-white flex items-center justify-center mx-auto">
  
  <!-- Glowing Background Effect -->
  <div id="background-effect"
    class="absolute inset-0 opacity-30 bg-gradient-to-r from-green-300 to-green-500 rounded-xl animate-pulse"></div>

  <!-- Form Content -->
  <form class="w-full h-full grid grid-rows-[auto_1fr_auto] gap-4 p-4 relative z-10" id="create-event-form"
    name="create-event-form">
   
    <!-- Title -->
    <div id="form-title" class="text-center">
      <h1 id="event-title" class="text-3xl font-bold tracking-wide mb-1">Create Your Event ðŸš€</h1>
      <p id="event-description" class="text-gray-200 max-w-md mx-auto">
        Start your life-changing journey with us! Fill in the form below to get started.
      </p>
    </div>

    <!-- Form Inputs -->
    <div id="form-inputs" class="grid grid-cols-2 gap-4 h-full">
      <!-- Left Column -->
      <div id="left-column" class="flex flex-col gap-3">
        <!-- Event Name -->
        <div id="event-name-container">
          <label for="event-name" class="block text-sm font-medium text-green-200 mb-1">Event Name</label>
          <input id="event-name" type="text" name="Event-Name" placeholder="Enter your event name"
            class="w-full bg-gray-700 p-4 rounded-lg focus:ring-2 focus:ring-green-400 border border-gray-600 text-white placeholder-gray-400">
        </div>

        <!-- Type of Event -->
        <div id="event-type-container">
          <label for="event-type" class="block text-sm font-medium text-green-200 mb-1">Type of Event</label>
          <select id="event-type" name="Type-of-Event"
            class="w-full bg-gray-700 p-4 rounded-lg focus:ring-2 focus:ring-green-400 border border-gray-600 text-white">
            <option value="" disabled selected>Select an event type</option>
            <option value="Corporate Events">Corporate Events</option>
            <option value="Convention">Convention</option>
            <option value="Fundraisers">Fundraisers</option>
            <option value="Parties">Parties</option>
            <option value="Seminars">Seminars</option>
            <option value="Weddings">Weddings</option>
          </select>
        </div>

        <!-- Number of Guests -->
        <div id="guests-container">
          <label for="guests" class="block text-sm font-medium text-green-200 mb-1">Number of Guests</label>
          <select id="guests" name="Number-of-Guests"
            class="w-full bg-gray-700 p-4 rounded-lg focus:ring-2 focus:ring-green-400 border border-gray-600 text-white">
            <option value="" disabled selected>Select capacity</option>
            <option value="1-10 Guests">1-10 Guests</option>
            <option value="11-20 Guests">11-20 Guests</option>
            <option value="21-30 Guests">21-30 Guests</option>
            <option value="31-40 Guests">31-40 Guests</option>
            <option value="50+ Guests">50+ Guests</option>
          </select>
        </div>
      </div>

      <!-- Right Column -->
      <div id="right-column" class="flex flex-col gap-3">
        
        <!-- Date Range -->
        <div id="date-range-container" class="grid grid-cols-2 gap-3">
          <div id="start-date-container">
            <label for="start-date" class="block text-sm font-medium text-green-200 mb-1">Start Date</label>
            <input id="start-date" type="date" name="Start-Date"
              class="w-full bg-gray-700 p-4 rounded-lg focus:ring-2 focus:ring-green-400 border border-gray-600 text-white">
          </div>
          <div id="end-date-container">
            <label for="end-date" class="block text-sm font-medium text-green-200 mb-1">End Date</label>
            <input id="end-date" type="date" name="End-Date"
              class="w-full bg-gray-700 p-4 rounded-lg focus:ring-2 focus:ring-green-400 border border-gray-600 text-white">
          </div>
        </div>

        <!-- Province Selection -->
        <div id="province-container">
          <label for="province" class="block text-sm font-medium text-green-200 mb-1">Select Province</label>
          <select id="province" name="Province"
            class="w-full bg-gray-700 p-4 rounded-lg focus:ring-2 focus:ring-green-400 border border-gray-600 text-white">
            <option value="" disabled selected>Select a province</option>
            <option value="Alberta">Alberta</option>
            <option value="British Columbia">British Columbia</option>
            <option value="Manitoba">Manitoba</option>
            <option value="New Brunswick">New Brunswick</option>
            <option value="Newfoundland and Labrador">Newfoundland and Labrador</option>
            <option value="Nova Scotia">Nova Scotia</option>
            <option value="Ontario">Ontario</option>
            <option value="Prince Edward Island">Prince Edward Island</option>
            <option value="Quebec">Quebec</option>
            <option value="Saskatchewan">Saskatchewan</option>
            <option value="Yukon">Yukon</option>
            <option value="Northwest Territories">Northwest Territories</option>
            <option value="Nunavut">Nunavut</option>
          </select>
        </div>

        <!-- Budget -->
        <div id="budget-container">
          <label for="budget" class="block text-sm font-medium text-green-200 mb-1">Budget (in USD)</label>
          <input id="budget" type="number" name="Budget" min="0" placeholder="Enter your budget"
            class="w-full bg-gray-700 p-4 rounded-lg focus:ring-2 focus:ring-green-400 border border-gray-600 text-white">
        </div>

      </div>
    </div>

    <!-- Submit Button -->
    <div id="submit-container" class="text-center mt-4">
      <button id="submit-button" type="submit"
        class="w-full bg-gradient-to-r from-green-500 to-green-700 hover:from-green-600 hover:to-green-800 text-white font-bold py-3 rounded-lg transition-all duration-300 transform hover:scale-105">Submit
        ðŸš€</button>
    </div>

  </form>

</div>

<script>
  // Toggle end date visibility based on "One-day Event" checkbox
  document.getElementById('one-day-event-checkbox').addEventListener('change', function () {
    const endDateContainer = document.getElementById('end-date-container');
    endDateContainer.style.display = this.checked ? 'none' : 'block';
  });

  document.getElementById('create-event-form').addEventListener('submit', async function (event) {
    event.preventDefault();

    // Get form values
    const event_name = document.getElementById('event-name').value;
    const event_type = document.getElementById('event-type').value;
    const guests = document.getElementById('guests').value;
    const start_date = document.getElementById('start-date').value;
    const one_day_event = document.getElementById('one-day-event-checkbox').checked;
    const end_date = one_day_event ? start_date : document.getElementById('end-date').value;
    const budget = document.getElementById('budget').value;

    // Validate inputs
    if (!event_name || !event_type || !guests || !start_date || (!one_day_event && !end_date) || !budget) {
      alert("Please fill out all fields.");
      return;
    }

    // Prepare the data to send
    const data = { event_name, event_type, guests, start_date, end_date, one_day_event, budget };
    console.log(data);

    // Continue with your form submission logic here...
  });
</script>



<!-- REAL DATA-->
<script>
  document.getElementById('create-event-form').addEventListener('submit', async function (event) {
    event.preventDefault();

    // Get form values
    const event_name = document.getElementById('event-name').value;
    const event_type = document.getElementById('event-type').value;
    const guests = document.getElementById('guests').value;
    const start_date = document.getElementById('start-date').value;
    const end_date = document.getElementById('end-date').value;
    const province = document.getElementById('province').value;
    const budget = document.getElementById('budget').value;

    // Validate inputs
    if (!event_name || !event_type || !guests || !start_date || !end_date || !province || !budget) {
      alert("Please fill out all fields.");
      return;
    }

    // Prepare the data to send
    const data = { event_name, event_type, guests, start_date, end_date, province, budget };
    console.log(data);

    try {
      // Show loader overlay
      const loader = document.getElementById("loader");
      loader.classList.remove("hidden");

      // Send the data to the Flask API
      const response = await fetch('http://127.0.0.1:5000/spea-2', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      if (response.ok) {


        // Parse the response (an array of venues)
        const venues = await response.json();
        console.log(venues);

        // Store the data in sessionStorage for the next page
        sessionStorage.setItem('venues', JSON.stringify(venues));


        // Store the province in sessionStorage for the next page
        sessionStorage.setItem('province', JSON.stringify(province.value));

        // Redirect to the recommendation page
        window.location.href = `/main-web-page/recomendation-page1`;

      } else {
        const error = await response.json();
        alert('Error: ' + error.message);
      }
    } catch (error) {
      console.error('Error:', error);
      alert('Something went wrong!');
    }
  });


</script>