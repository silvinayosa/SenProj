<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6 text-center">Recommended Venues</h1>
    <div id="venue-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Venue options will be populated here dynamically -->
    </div>

    <div class="mt-6 text-center">
        <h2 class="text-xl font-semibold mb-4">Already Have a Venue?</h2>
        <button id="use-private-venue" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200">
            Use My Private Home
        </button>
    </div>
    
    <div class="mt-6 text-center">
        <button id="next-page" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition duration-200 disabled:opacity-50" disabled>
            Next Page
        </button>
    </div>
</div>

<script>
    // Retrieve venues from sessionStorage
    const venues = JSON.parse(sessionStorage.getItem('venues')) || [];

    const venueList = document.getElementById('venue-list');
    let selectedVenueId = null;

    // Function to display venues
    function displayVenues() {
        venues.forEach((venue, index) => {
            const venueDiv = document.createElement('div');
            venueDiv.className = "border rounded-lg overflow-hidden shadow-lg transition-transform transform hover:scale-105 cursor-pointer";
            venueDiv.setAttribute('data-id', index); // Use index as ID

            venueDiv.innerHTML = `
                <div class="p-4">
                    <h3 class="text-xl font-semibold text-blue-600">${venue.optimal_venue}</h3>
                    <p class="text-gray-700">CO2 Emission: ${venue.co2_emission} g</p>
                    <p class="text-gray-700">Cost: $${venue.total_cost}</p>
                    <p class="text-gray-700">Province: ${venue.province}</p>
                </div>
            `;

            venueDiv.onclick = () => selectVenue(index);
            venueList.appendChild(venueDiv);
        });
    }

    // Function to handle venue selection
    function selectVenue(id) {
        selectedVenueId = id;

        document.querySelectorAll('#venue-list div').forEach(div => {
            div.classList.remove('bg-green-200', 'bg-opacity-50');
        });

        const selectedDiv = document.querySelector(`#venue-list div[data-id="${id}"]`);
        selectedDiv.classList.add('bg-green-200', 'bg-opacity-50');
        document.getElementById('next-page').disabled = false;
    }

    // Event listener for the private venue button
    document.getElementById('use-private-venue').onclick = () => {
        alert('You have selected your private home.');
    };

    // Event listener for the next page button
    document.getElementById('next-page').onclick = () => {
        if (selectedVenueId !== null) {
            alert(`You selected Venue ID: ${selectedVenueId}`);
        } else {
            alert('Please select a venue before proceeding.');
        }
    };

    // Initialize the display of venues
    displayVenues();
</script>

<style>
    /* Additional styles can be added here if needed */
</style>
